(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,54922,e=>{"use strict";let t=(0,e.i(75254).default)("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);e.s(["Grid",()=>t],54922)},39616,e=>{"use strict";let t=(0,e.i(75254).default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Settings",()=>t],39616)},83534,e=>{"use strict";var t=e.i(43476),s=e.i(71645),l=e.i(54922),a=e.i(39616),i=e.i(75254);let r=(0,i.default)("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),n=(0,i.default)("hammer",[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]]),d=(0,i.default)("calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),c=(0,i.default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var o=e.i(33499);let x=[{name:"Standard 500x500",width:500,height:500,label:"500x500mm"},{name:"Standard 500x1000",width:500,height:1e3,label:"500x1000mm"},{name:"Standard 640x480",width:640,height:480,label:"640x480mm"},{name:"Standard 960x960",width:960,height:960,label:"960x960mm"}];function h(){let{t:e,lang:i,setLang:h}=(0,o.useI18n)(),[m,b]=(0,s.useState)({rows:6,cols:8,cabWidth:500,cabHeight:500,pitch:3.9}),[u,p]=(0,s.useState)({tubeSize:40,gap:0,startHeight:600}),[g,f]=(0,s.useState)("visual"),j=m.cols*m.cabWidth,y=m.rows*m.cabHeight,v=Math.floor(j/m.pitch),N=Math.floor(y/m.pitch),w=`${v} x ${N}`,k=(v*N).toLocaleString(),S=j*y/1e6,z=600*S/1e3,C=200*S/1e3,M=m.cols+1,W=[{name:"垂直主樑 (Vertical Main Beams)",spec:`${u.tubeSize}x${u.tubeSize}mm 方管`,length:y,qty:M,note:"間距 (Spacing): "+m.cabWidth+"mm (中心對中心)"},{name:"水平橫樑 (Horizontal Beams)",spec:`${u.tubeSize}x${u.tubeSize}mm 方管`,length:j+2*u.tubeSize,qty:2,note:"上下包邊固定 (Top & Bottom)"},{name:"落地支腿 (如果需要落地)",spec:`${u.tubeSize}x${u.tubeSize}mm 方管`,length:u.startHeight+y,qty:Math.ceil(m.cols/2)+1,note:"建議每隔 1-1.5m 一支"}],T=(0,s.useRef)(null);return(0,s.useEffect)(()=>{let e=T.current;if(!e)return;let t=e.getContext("2d");if(!t)return;let s=Math.min((e.width-120)/j,(e.height-120)/y),l=j*s,a=y*s,i=(e.width-l)/2,r=(e.height-a)/2;if(t.fillStyle="#0f172a",t.fillRect(0,0,e.width,e.height),"visual"===g){t.strokeStyle="#334155",t.lineWidth=1;for(let e=0;e<m.rows;e++)for(let l=0;l<m.cols;l++){let a=i+l*m.cabWidth*s,n=r+e*m.cabHeight*s,d=m.cabWidth*s,c=m.cabHeight*s;t.strokeRect(a,n,d,c),t.fillStyle="#1e293b",t.fillRect(a+2,n+2,d-4,c-4)}t.strokeStyle="#f97316",t.lineWidth=3,t.strokeRect(i,r,l,a)}else{t.strokeStyle="#38bdf8",t.lineWidth=2;for(let e=0;e<=m.cols;e++){let l=i+e*m.cabWidth*s;u.tubeSize,t.beginPath(),t.moveTo(l,r),t.lineTo(l,r+a),t.stroke(),e<m.cols&&(t.fillStyle="#94a3b8",t.font="10px Arial",t.textAlign="center",t.fillText(`${m.cabWidth}`,l+m.cabWidth*s/2,r+a+20))}t.beginPath(),t.moveTo(i,r),t.lineTo(i+l,r),t.moveTo(i,r+a),t.lineTo(i+l,r+a),t.stroke()}t.fillStyle="#fff",t.font="12px Arial",t.textAlign="center",t.fillText(`${j} mm (${(j/1e3).toFixed(2)} m)`,i+l/2,r-20),t.textAlign="left",t.fillText(`${y} mm (${(y/1e3).toFixed(2)} m)`,i+l+15,r+a/2)},[m,u,g,j,y]),(0,t.jsxs)("div",{className:"flex flex-col h-full bg-slate-900 text-slate-100 min-h-screen",children:[(0,t.jsxs)("div",{className:"border-b border-white/10 p-4 bg-slate-950 flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-orange-600 rounded-lg",children:(0,t.jsx)(l.Grid,{size:20,className:"text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl font-bold font-orbitron text-white",children:"Grid Composer"}),(0,t.jsx)("p",{className:"text-xs text-slate-400",children:"LED Display Calculator & Structural Generator"})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)("div",{className:"flex bg-slate-800 rounded-lg p-1 border border-slate-700 mr-2",children:["zh-TW","zh-CN","en"].map(e=>(0,t.jsx)("button",{onClick:()=>h(e),className:`px-3 py-1 text-xs font-bold rounded-md transition-all ${i===e?"bg-orange-600 text-white shadow-sm":"text-slate-400 hover:text-white hover:bg-white/5"} `,children:"zh-TW"===e?"繁":"zh-CN"===e?"简":"EN"},e))}),(0,t.jsxs)("button",{onClick:()=>f("visual"),className:`px-4 py-2 rounded text-sm font-bold flex items-center gap-2 transition-colors ${"visual"===g?"bg-orange-600 text-white":"hover:bg-slate-800 text-slate-400"}`,children:[(0,t.jsx)(r,{size:16})," Screen View"]}),(0,t.jsxs)("button",{onClick:()=>f("blueprint"),className:`px-4 py-2 rounded text-sm font-bold flex items-center gap-2 transition-colors ${"blueprint"===g?"bg-sky-600 text-white":"hover:bg-slate-800 text-slate-400"}`,children:[(0,t.jsx)(n,{size:16})," Ironworker's View"]})]})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-hidden flex flex-col md:flex-row",children:[(0,t.jsxs)("div",{className:"w-full md:w-80 bg-slate-900 border-r border-white/5 p-4 overflow-y-auto custom-scrollbar",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("h3",{className:"text-xs font-bold text-slate-500 uppercase flex items-center gap-2 mb-3",children:[(0,t.jsx)(r,{size:14})," ",e("grid.cab.title")]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-slate-400 mb-1 block",children:"預設規格 (Presets)"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2",children:x.map(e=>(0,t.jsx)("button",{onClick:()=>b(t=>({...t,cabWidth:e.width,cabHeight:e.height})),className:`text-xs p-2 rounded border transition-colors ${m.cabWidth===e.width&&m.cabHeight===e.height?"bg-orange-600 border-orange-500 text-white":"bg-slate-800 border-slate-700 text-slate-300 hover:bg-slate-700"}`,children:e.label},e.name))})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-slate-400 mb-1 block",children:"寬度 W (mm)"}),(0,t.jsx)("input",{type:"number",value:m.cabWidth,onChange:e=>b({...m,cabWidth:Number(e.target.value)}),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-sm focus:border-orange-500 focus:outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-slate-400 mb-1 block",children:"高度 H (mm)"}),(0,t.jsx)("input",{type:"number",value:m.cabHeight,onChange:e=>b({...m,cabHeight:Number(e.target.value)}),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-sm focus:border-orange-500 focus:outline-none"})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-slate-400 mb-1 block",children:"點間距 Pitch (mm)"}),(0,t.jsx)("input",{type:"number",step:"0.1",value:m.pitch,onChange:e=>b({...m,pitch:Number(e.target.value)}),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-sm focus:border-orange-500 focus:outline-none"})]})}),(0,t.jsxs)("div",{className:"pt-2 border-t border-white/5",children:[(0,t.jsx)("label",{className:"text-xs text-slate-400 mb-1 block",children:"陣列 Array (Rows x Cols)"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"number",min:"1",value:m.rows,onChange:e=>b({...m,rows:Math.max(1,Number(e.target.value))}),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-sm text-center font-bold"}),(0,t.jsx)("span",{className:"text-slate-500",children:"x"}),(0,t.jsx)("input",{type:"number",min:"1",value:m.cols,onChange:e=>b({...m,cols:Math.max(1,Number(e.target.value))}),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-sm text-center font-bold"})]})]})]})]}),(0,t.jsxs)("div",{className:"mb-6 bg-slate-800/50 p-3 rounded-lg border border-white/5",children:[(0,t.jsxs)("h3",{className:"text-xs font-bold text-slate-500 uppercase flex items-center gap-2 mb-2",children:[(0,t.jsx)(d,{size:14})," 計算結果 (Calculated)"]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"總解析度"}),(0,t.jsx)("span",{className:"font-mono font-bold text-white",children:w})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"總像素點"}),(0,t.jsxs)("span",{className:"font-mono text-orange-400",children:[k," px"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"面積 Area"}),(0,t.jsxs)("span",{className:"font-mono text-white",children:[S.toFixed(2)," m²"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"最大功耗 (Max)"}),(0,t.jsxs)("span",{className:"font-mono text-red-300",children:["~",z.toFixed(1)," kW"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"平均功耗 (Avg)"}),(0,t.jsxs)("span",{className:"font-mono text-green-300",children:["~",C.toFixed(1)," kW"]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-xs font-bold text-slate-500 uppercase flex items-center gap-2 mb-3",children:[(0,t.jsx)(a.Settings,{size:14})," 結構參數 (Structure Info)"]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-slate-400 mb-1 block",children:"方管尺寸 (Tube Size)"}),(0,t.jsxs)("select",{className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-sm",value:u.tubeSize,onChange:e=>p({...u,tubeSize:Number(e.target.value)}),children:[(0,t.jsx)("option",{value:"40",children:"40x40mm (標準 Standard)"}),(0,t.jsx)("option",{value:"30",children:"30x30mm (輕型 Light)"}),(0,t.jsx)("option",{value:"50",children:"50x50mm (重型 Heavy)"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-slate-400 mb-1 block",children:"離地高度 (Height from Ground) mm"}),(0,t.jsx)("input",{type:"number",value:u.startHeight,onChange:e=>p({...u,startHeight:Number(e.target.value)}),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-sm"})]})]})]}),(0,t.jsxs)("button",{onClick:()=>f("blueprint"),className:"mt-6 w-full bg-orange-600 hover:bg-orange-500 p-3 rounded-lg font-bold text-white flex items-center justify-center gap-2 transition-colors border border-orange-400/20 shadow-lg shadow-orange-900/20",children:[(0,t.jsx)(n,{size:18})," 生成結構施工圖 (Generate Blueprint)"]})]}),(0,t.jsxs)("div",{className:"flex-1 bg-slate-950 relative overflow-hidden flex flex-col",children:[(0,t.jsx)("div",{className:"absolute top-4 left-4 right-4 z-10 flex justify-between pointer-events-none",children:(0,t.jsxs)("div",{className:"bg-slate-900/90 backdrop-blur border border-white/10 p-2 rounded-lg shadow-xl pointer-events-auto",children:[(0,t.jsx)("div",{className:"text-xs text-slate-400 uppercase tracking-wider mb-1",children:"Total Dimensions"}),(0,t.jsxs)("div",{className:"text-xl font-bold font-mono text-white",children:[(j/1e3).toFixed(3),"m ",(0,t.jsx)("span",{className:"text-slate-500",children:"x"})," ",(y/1e3).toFixed(3),"m"]})]})}),(0,t.jsx)("div",{className:"flex-1 flex items-center justify-center p-8 overflow-auto",children:(0,t.jsx)("canvas",{ref:T,width:1200,height:800,className:"max-w-full max-h-full border border-slate-800 rounded-lg shadow-2xl bg-[#0f172a]"})}),"blueprint"===g&&(0,t.jsxs)("div",{className:"bg-slate-900 border-t border-sky-900/50 p-6 shadow-[0_-10px_40px_rgba(0,0,0,0.5)] animate-in slide-in-from-bottom-10",children:[(0,t.jsxs)("h3",{className:"text-sky-400 font-bold text-lg mb-4 flex items-center gap-2",children:[(0,t.jsx)(n,{size:20})," 鐵工施作料單 (Ironworker's Cut List)"]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm text-left text-slate-300",children:[(0,t.jsx)("thead",{className:"text-xs text-sky-500 uppercase bg-slate-950/50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-2",children:"項目 (Item)"}),(0,t.jsx)("th",{className:"px-4 py-2",children:"規格 (Spec)"}),(0,t.jsx)("th",{className:"px-4 py-2",children:"長度 (Length)"}),(0,t.jsx)("th",{className:"px-4 py-2",children:"數量 (Qty)"}),(0,t.jsx)("th",{className:"px-4 py-2",children:"備註 (Note)"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-800",children:W.map((e,s)=>(0,t.jsxs)("tr",{className:"hover:bg-slate-800/50",children:[(0,t.jsx)("td",{className:"px-4 py-3 font-medium text-white",children:e.name}),(0,t.jsx)("td",{className:"px-4 py-3 text-slate-400",children:e.spec}),(0,t.jsxs)("td",{className:"px-4 py-3 font-mono text-sky-300 font-bold",children:[e.length," mm"]}),(0,t.jsx)("td",{className:"px-4 py-3 font-mono text-white",children:e.qty}),(0,t.jsx)("td",{className:"px-4 py-3 text-slate-500 italic",children:e.note})]},s))})]})}),(0,t.jsxs)("div",{className:"mt-4 text-xs text-slate-500 border-t border-slate-800 pt-2 flex justify-between items-center",children:[(0,t.jsx)("span",{children:e("grid.note.tolerance")}),(0,t.jsxs)("button",{className:"text-sky-400 hover:text-sky-300 flex items-center gap-1 font-bold",children:[(0,t.jsx)(c,{size:12})," 複製料單"]})]})]})]})]})]})}e.s(["default",()=>h],83534)}]);