(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,43531,e=>{"use strict";let t=(0,e.i(75254).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],43531)},78583,e=>{"use strict";let t=(0,e.i(75254).default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);e.s(["FileText",()=>t],78583)},67240,e=>{"use strict";let t=(0,e.i(75254).default)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);e.s(["RotateCcw",()=>t],67240)},83086,e=>{"use strict";let t=(0,e.i(75254).default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);e.s(["Sparkles",()=>t],83086)},93788,e=>{"use strict";var t=e.i(43476),s=e.i(71645),i=e.i(75254);let a=(0,i.default)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),l=(0,i.default)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),r=(0,i.default)("music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),d=(0,i.default)("mic-vocal",[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12",key:"80a601"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5",key:"j0ngtp"}],["circle",{cx:"16",cy:"7",r:"5",key:"d08jfb"}]]);var n=e.i(83086),c=e.i(43531),o=e.i(78583),_=e.i(67240);let x=(0,i.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),p="/assets/visuals/",h=[{step_id:"step_1_vehicle",title:"選擇舞台基礎 (Base)",ui_type:"radio_card",items:[{item_id:"v_85t",name:"ADG 標準 8.5T 豪華舞台車",price:45e3,description:"台灣活動主力，全自動液壓舞台",specs:{width:"8m",depth:"5m"},visual_layer:{z_index:0,asset_id:"base_truck_85t.png"},constraints:{allow_fire_fx:!0,max_screen_width:6}},{item_id:"v_35t",name:"ADG 輕量 3.5T 宣傳車",price:15e3,description:"適合巷弄宣傳、定點廣播",specs:{width:"4m",depth:"3m"},visual_layer:{z_index:0,asset_id:"base_truck_35t.png"},constraints:{allow_fire_fx:!1,max_screen_width:2}}]},{step_id:"step_2_visual",title:"視覺與燈光 (Visuals)",ui_type:"checkbox_group",items:[{item_id:"h_led_screen",name:"P2.5 高清 LED 電視牆",price:25e3,visual_layer:{z_index:1,asset_id:"screen_p25_active.png"},default_visual_off:"screen_off.png"},{item_id:"h_light_party",name:"專業派對燈光包 (Beam/Wash)",price:12e3,visual_layer:{z_index:2,asset_id:"light_party_beam.png"}},{item_id:"h_light_strip",name:"舞台輪廓氛圍燈帶",price:3e3,visual_layer:{z_index:2,asset_id:"light_ambient_strip.png"}}]},{step_id:"step_3_audio",title:"音響系統 (Audio)",ui_type:"checkbox_group",items:[{item_id:"h_audio_basic",name:"基礎演講音響",price:0,is_default:!0,visual_layer:{z_index:3,asset_id:"audio_basic_spk.png"}},{item_id:"h_audio_pro",name:"演唱會級陣列音響 + 超低音",price:15e3,visual_layer:{z_index:3,asset_id:"audio_line_array.png"}}]},{step_id:"step_4_content",title:"表演內容 (Content)",ui_type:"radio_select",items:[{item_id:"p_dj_show",name:"派對 DJ 演出",price:18e3,visual_layer:{z_index:4,asset_id:"artist_dj.png"},si_triggers:{auto_add:["h_audio_pro","h_light_party"]}},{item_id:"p_live_band",name:"Live 樂團演出 (3人)",price:25e3,visual_layer:{z_index:4,asset_id:"artist_band.png"},si_triggers:{auto_add:["h_audio_pro"]}},{item_id:"p_singer",name:"實力派歌手",price:8e3,visual_layer:{z_index:4,asset_id:"artist_singer.png"}}]},{step_id:"step_5_fx",title:"舞台特效 (FX)",ui_type:"checkbox_group",items:[{item_id:"fx_fire_machine",name:"舞台噴火機 (限戶外)",price:8e3,visual_layer:{z_index:5,asset_id:"fx_fire.png"},safety_warning:"請確認活動場地為戶外，且上方無遮蔽物。",requires_constraint:"allow_fire_fx"},{item_id:"fx_smoke",name:"低溫煙霧機",price:3e3,visual_layer:{z_index:5,asset_id:"fx_smoke.png"}}]}],u={auto_add_rules:[{trigger:"p_dj_show",target:"h_audio_pro",message:"為了達到最佳 DJ 演出效果，系統已自動為您升級『演唱會級陣列音響』。"},{trigger:"p_dj_show",target:"h_light_party",message:"DJ 演出建議搭配燈光效果，系統已為您加入『派對燈光包』。"}],conflict_rules:[{item_a:"p_dj_show",item_b:"p_live_band",action:"replace",message:"同一時段舞台只能有一組主要表演者。"}],constraint_rules:[{constraint_key:"allow_fire_fx",check_value:!1,target_item:"fx_fire_machine",action:"disable",message:"此車型或場地限制無法安裝噴火機。"}]};var m=e.i(33499);function f(){let e,i,f,g,{lang:b,setLang:v}=(0,m.useI18n)(),[y,j]=(0,s.useState)("step_1_vehicle"),[w,k]=(0,s.useState)({}),[N,z]=(0,s.useState)([]),[M,C]=(0,s.useState)(!1),S=(e,t)=>{let s=Date.now();z(i=>[...i,{id:s,text:e,type:t}]),setTimeout(()=>z(e=>e.filter(e=>e.id!==s)),5e3)},T=(0,s.useMemo)(()=>{let e=Object.values(w).flat(),t=[];return h.forEach(s=>{s.items.forEach(s=>{e.includes(s.item_id)&&t.push(s)})}),t},[w,h]),$=T.reduce((e,t)=>e+t.price,0);return(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row h-[calc(100vh-80px)] bg-slate-950 text-slate-200 overflow-hidden relative",children:[(0,t.jsxs)("div",{className:"relative w-full h-[40vh] lg:h-full lg:flex-1 bg-gradient-to-b from-slate-900 to-black overflow-hidden flex items-center justify-center order-1 lg:order-2",children:[(0,t.jsx)("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(circle at center, #333 1px, transparent 1px)",backgroundSize:"30px 30px"}}),(0,t.jsxs)("div",{className:"relative w-full max-w-4xl aspect-[16/9] flex items-center justify-center p-4",children:[!Object.keys(w).length&&(0,t.jsxs)("div",{className:"text-center opacity-30 select-none",children:[(0,t.jsx)(l,{size:48,className:"mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-sm",children:"Select Base Stage"})]}),(e=h.flatMap(e=>e.items),i=[],f=Object.values(w).flat(),g=(w.step_1_vehicle||[]).length>0,e.forEach(e=>{let t=f.includes(e.item_id);t&&e.visual_layer?i.push({...e.visual_layer,id:e.item_id+"_on"}):!t&&e.default_visual_off&&e.visual_layer&&g&&i.push({z_index:e.visual_layer.z_index,asset_id:e.default_visual_off,id:e.item_id+"_off"})}),i.sort((e,t)=>e.z_index-t.z_index).map(e=>(0,t.jsx)("img",{src:`${p}${e.asset_id}`,alt:e.asset_id,className:"absolute inset-0 w-full h-full object-contain pointer-events-none transition-all duration-500 animate-in fade-in",style:{zIndex:e.z_index}},e.id)))]}),(0,t.jsxs)("div",{className:"lg:hidden absolute bottom-4 right-4 bg-slate-900/80 backdrop-blur px-3 py-1.5 rounded-full border border-slate-700 text-xs font-mono text-orange-400",children:["Est: $",$.toLocaleString()]})]}),(0,t.jsxs)("div",{className:"w-full lg:w-[320px] h-[60vh] lg:h-full flex flex-col border-t lg:border-t-0 lg:border-r border-slate-800 bg-slate-900 z-20 order-2 lg:order-1 shadow-2xl",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-slate-800 flex justify-between items-center bg-slate-950/50",children:[(0,t.jsx)("h1",{className:"font-bold text-sm text-white font-orbitron tracking-wider",children:"CONFIGURATOR"}),(0,t.jsx)("div",{className:"flex bg-slate-900 rounded-lg p-0.5 border border-slate-700 scale-[0.8]",children:["zh-TW","zh-CN","en"].map(e=>(0,t.jsx)("button",{onClick:()=>v(e),className:`px-2 py-1 text-[10px] font-bold rounded transition-all ${b===e?"bg-orange-600 text-white shadow-sm":"text-slate-500 hover:text-white hover:bg-white/5"} `,children:"zh-TW"===e?"繁":"zh-CN"===e?"简":"EN"},e))}),(0,t.jsx)("button",{onClick:()=>k({}),className:"p-1.5 hover:bg-slate-800 rounded text-slate-500 hover:text-white transition-colors",title:"Reset",children:(0,t.jsx)(_.RotateCcw,{size:14})})]}),(0,t.jsx)("div",{className:"flex overflow-x-auto no-scrollbar border-b border-slate-800 bg-slate-900",children:h.map(e=>(0,t.jsxs)("button",{onClick:()=>j(e.step_id),className:`flex flex-col items-center justify-center min-w-[4.5rem] py-3 text-[10px] font-bold transition-all border-b-2 gap-1
                                ${y===e.step_id?"border-indigo-500 text-white bg-slate-800":"border-transparent text-slate-500 hover:text-slate-300"}`,children:[(e=>{switch(e){case"step_1_vehicle":return(0,t.jsx)(a,{size:18});case"step_2_visual":default:return(0,t.jsx)(l,{size:18});case"step_3_audio":return(0,t.jsx)(r,{size:18});case"step_4_content":return(0,t.jsx)(d,{size:18});case"step_5_fx":return(0,t.jsx)(n.Sparkles,{size:18})}})(e.step_id),(0,t.jsx)("span",{children:e.title.split(" ")[0]})]},e.step_id))}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 custom-scrollbar bg-slate-900/50",children:h.find(e=>e.step_id===y)?.items.map(e=>{let s=(w[y]||[]).includes(e.item_id),i=!1;return e.requires_constraint&&"allow_fire_fx"===e.requires_constraint&&"v_35t"===w.step_1_vehicle?.[0]&&(i=!0),(0,t.jsxs)("div",{onClick:()=>!i&&((e,t,s)=>{let i={...w};if("radio_card"===s||"radio_select"===s)i[e]=[t];else if("checkbox_group"===s){let s=i[e]||[];s.includes(t)?i[e]=s.filter(e=>e!==t):i[e]=[...s,t]}u.conflict_rules.forEach(e=>{let s=Object.values(i).flat();"replace"===e.action&&(t===e.item_a&&s.includes(e.item_b)&&(Object.keys(i).forEach(t=>{i[t]=i[t].filter(t=>t!==e.item_b)}),S(e.message,"warning")),t===e.item_b&&s.includes(e.item_a)&&(Object.keys(i).forEach(t=>{i[t]=i[t].filter(t=>t!==e.item_a)}),S(e.message,"warning")))}),u.auto_add_rules.forEach(e=>{if(t===e.trigger){let t=h.find(t=>t.items.find(t=>t.item_id===e.target));if(t){let s=i[t.step_id]||[];s.includes(e.target)||(t.ui_type.includes("radio")?i[t.step_id]=[e.target]:i[t.step_id]=[...s,e.target],S(e.message,"info"))}}}),k(i)})(y,e.item_id,h.find(e=>e.step_id===y).ui_type),className:`
                                    relative p-3 rounded-lg border transition-all cursor-pointer group select-none flex items-center justify-between
                                    ${i?"opacity-40 grayscale cursor-not-allowed border-slate-800":s?"bg-indigo-900/30 border-indigo-500/50":"bg-slate-800/40 border-slate-700/50 hover:bg-slate-800 hover:border-slate-600"}
                                `,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-bold text-sm text-slate-200 mb-0.5",children:e.name}),(0,t.jsx)("div",{className:"text-xs text-slate-500 font-mono",children:0===e.price?"Included":`$${e.price.toLocaleString()}`})]}),(0,t.jsx)("div",{className:`w-5 h-5 rounded-full border flex items-center justify-center transition-colors ${s?"bg-indigo-500 border-indigo-500":"border-slate-600"}`,children:s&&(0,t.jsx)(c.Check,{size:12,className:"text-white"})})]},e.item_id)})}),(0,t.jsx)("div",{className:"h-12 border-t border-slate-800 bg-slate-950 flex items-center px-4 overflow-hidden relative",children:N.length>0?(0,t.jsxs)("div",{className:"text-[10px] text-blue-300 flex items-center gap-2 animate-in slide-in-from-bottom-2",children:[(0,t.jsx)(x,{size:12})," ",N[N.length-1].text]}):(0,t.jsx)("span",{className:"text-[10px] text-slate-600 italic",children:"Ready for configuration..."})})]}),(0,t.jsxs)("div",{className:"hidden lg:flex w-[250px] flex-col border-l border-slate-800 bg-slate-900 z-20 order-3",children:[(0,t.jsx)("div",{className:"p-4 border-b border-slate-800 bg-slate-950/30",children:(0,t.jsxs)("h2",{className:"font-bold text-white text-xs uppercase tracking-wider flex items-center gap-2",children:[(0,t.jsx)(o.FileText,{size:14,className:"text-indigo-500"})," Estimate"]})}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[T.map((e,s)=>(0,t.jsxs)("div",{className:"flex justify-between items-center text-xs group",children:[(0,t.jsx)("span",{className:"text-slate-400 group-hover:text-slate-200 transition-colors truncate pr-2",children:e.name}),(0,t.jsx)("span",{className:"text-slate-500 font-mono whitespace-nowrap",children:0===e.price?"-":`$${e.price.toLocaleString()}`})]},s)),0===T.length&&(0,t.jsx)("div",{className:"text-xs text-slate-600 text-center py-10",children:"No items selected"})]}),(0,t.jsxs)("div",{className:"p-4 bg-slate-900/50 border-t border-slate-800 space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-end",children:[(0,t.jsx)("div",{className:"text-[10px] text-slate-500 font-bold uppercase",children:"Total"}),(0,t.jsxs)("div",{className:"text-xl font-bold text-orange-500 font-mono",children:["$",$.toLocaleString()]})]}),(0,t.jsx)("button",{className:"w-full py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded text-xs font-bold shadow-lg shadow-indigo-500/20 transition-all",children:"Generate Quote"}),(0,t.jsx)("button",{className:"w-full py-2 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded text-xs font-bold border border-slate-700",children:"Contact Sales"})]})]})]})}e.s(["default",()=>f],93788)}]);